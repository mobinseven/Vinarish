@model VinarishMvc.Models.Report

@{
    ViewData["Title"] = "افزودن گزارش";
}
<h4>جزئیات گزارش</h4>
<div>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.DateTime)
        </dt>
        <dd class="col-sm-10">
            @Model.DateTime.ToString("yy/MM/dd HH:mm")
            @* // TODO: Show date and time in persian *@
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Wagon)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Wagon.WagonId)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Place)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Place.Text)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Code)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Code.Text)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Reporter)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Reporter.FullName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.IsValid)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.IsValid)
        </dd>

        @foreach (Report aprep in Model.InverseAppendixReport.OrderBy(r => r.DateTime))
        {

            <dt class="col-sm-10">
                <b>گزارش پیوسته</b>
            </dt>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Code)
            </dt>
            <dd class="col-sm-10">
                <a asp-action="Details" class="btn btn-outline-info" role="button" asp-route-id="@aprep.Id">@Model.AppendixReport.Code.Text</a>
            </dd>
        }
        @*
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Cat)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Cat.CategoryName)
        </dd>*@
    </dl>
</div>
<div>
    <a asp-action="Edit" class="btn btn-primary" role="button" asp-route-id="@Model.Id">ویرایش</a>
    <a asp-action="Append" class="btn btn-success" role="button" asp-route-id="@Model.Id">پیوست گزارش نو</a>
    <a href="javascript:history.back()" class="btn btn-secondary" role="button">بازگشت به فهرست</a>
</div>
